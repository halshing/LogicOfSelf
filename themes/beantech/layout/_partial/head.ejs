<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="<%= config.description %>">
    <meta name="keyword"  content="<%= config.keyword %>">
    <meta property="og:type" content="blog">

    <!-- jQuery -->
    <%- js('js/jquery.min.js') %>   
    
    <% if(page.permalink) { %>
        <meta property="og:image" content="<%= page['permalink'] %><%= page['header-img'] %>">
    <% } else { %>
        <meta property="og:image" content="<%= config['url'] %>/<%= config['header-img'] %>">
    <% } %>
    
    <% if(page.title) { %>
        <meta property="og:title" content="<%= page['title'] %> - <%= config['title']%>">
    <% } else { %>
        <meta property="og:title" content="<%= config['title'] %>">
    <% } %>

    <% if(page.excerpt) { %>
        <meta property="og:description" content="<%= strip_html(page['excerpt']) %>">
    <% } else { %>
        <meta property="og:description" content="<%= config['description'] %>">
    <% } %>

    <!-- <link rel="shortcut icon" href="<%= config.root %>img/ironman-draw.png"> -->
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <!-- Social Sharing Plugin -->
    <script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5a416b069d192f00137434ae&product=sticky-share-buttons"></script>
    <title>
        <% if (page.title) { %>
          <%= page.title + ' - ' + config.SEOTitle %>
        <% } else{%>
          <%= config.SEOTitle %>
        <% } %>
    </title>

    <link rel="canonical" href="<%= config.url + config.root + (page.path||'').replace('index.html', '') %>">

    <!-- Bootstrap Core CSS -->
    <%- css('css/bootstrap.min.css') %>

    <!-- Custom CSS --> 
    <%- css('css/beantech.min.css')%>
    
    <!-- Pygments Highlight CSS -->
    <%- css('css/highlight') %>

    <%- css('css/widget')%>

    <%- css('css/rocket')%>

    <%- css('css/signature')%>

    <%- css('css/toc')%>

    <!-- Custom Fonts -->
    <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="https://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
    <!-- Azure Application Insights -->
    <script type="text/javascript">
        var appInsights=window.appInsights||function(a){
          function b(a){c[a]=function(){var b=arguments;c.queue.push(function(){c[a].apply(c,b)})}}var c={config:a},d=document,e=window;setTimeout(function(){var b=d.createElement("script");b.src=a.url||"https://az416426.vo.msecnd.net/scripts/a/ai.0.js",d.getElementsByTagName("script")[0].parentNode.appendChild(b)});try{c.cookie=d.cookie}catch(a){}c.queue=[];for(var f=["Event","Exception","Metric","PageView","Trace","Dependency"];f.length;)b("track"+f.pop());if(b("setAuthenticatedUserContext"),b("clearAuthenticatedUserContext"),b("startTrackEvent"),b("stopTrackEvent"),b("startTrackPage"),b("stopTrackPage"),b("flush"),!a.disableExceptionTracking){f="onerror",b("_"+f);var g=e[f];e[f]=function(a,b,d,e,h){var i=g&&g(a,b,d,e,h);return!0!==i&&c["_"+f](a,b,d,e,h),i}}return c
          }({
              instrumentationKey:"44c40562-ab79-4f40-a577-12e894e0931d"
          });
          
        window.appInsights=appInsights,appInsights.queue&&0===appInsights.queue.length&&appInsights.trackPageView();
      </script>
      <!-- Facebook Pixel -->
      <!-- Facebook Pixel Code -->
    <script>
        !function(f,b,e,v,n,t,s)
        {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', '710850942452654');
        fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
        src="https://www.facebook.com/tr?id=710850942452654&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Facebook Pixel Code --> 
    <!-- My Custom App Insight Tracker --> 
    <script>
        $.fn.isInViewport = function() {
            if (!this.id) return;
            var elementTop = $(this).offset().top;
            var elementBottom = elementTop + $(this).outerHeight();
            var viewportTop = $(window).scrollTop();
            var viewportBottom = viewportTop + $(window).height();
            return elementBottom > viewportTop && elementTop < viewportBottom;
        };
        var _loscache = {};
        $(document).ready(function() {
            appInsights.startTrackPage("Got2End");
        })
        $(window).on('resize scroll', function() {
            if (!_loscache.got2end) {
                var elm = $("#got2end");
                var got2end = elm[0].id ? elm.isInViewport() : false;
                if (got2end && !_loscache.got2end) {
                    _loscache.got2end = got2end;
                    appInsights.stopTrackPage("Got2End");
                }
            }
        });
    </script>
</head>
